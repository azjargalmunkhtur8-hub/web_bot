<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial; background: #f4f4f4; padding: 20px; }
#chatbox { width: 400px; height: 400px; border: 1px solid #ccc; overflow-y: scroll; padding: 10px; background: #fff; }
.user { color: white; background: #007bff; padding: 5px 10px; border-radius: 10px; margin: 5px 0; display: inline-block; }
.bot { color: black; background: #e5e5e5; padding: 5px 10px; border-radius: 10px; margin: 5px 0; display: inline-block; }
input { width: 300px; padding: 5px; }
button { padding: 5px 10px; }
</style>
</head>
<body>

<h2>Rasa Chatbot</h2>
<div id="chatbox"></div>
<input id="msg" placeholder="Message...">
<button onclick="send()">Send</button>

<script>
async function send() {
  const msg = document.getElementById("msg").value;
  if (!msg) return;

  const chatbox = document.getElementById("chatbox");
  chatbox.innerHTML += '<div class="user">'+msg+'</div>';

  const res = await fetch("/chat", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({ message: msg })
  });
  const data = await res.json();
  chatbox.innerHTML += '<div class="bot">'+data.reply+'</div>';
  chatbox.scrollTop = chatbox.scrollHeight;

  document.getElementById("msg").value = "";
}
</script>

</body>
</html>
